<div #homeContainer class="home-container">
  <div class="movie-list-container">
    <button class="advanced-search-toggle" (click)="toggleAdvancedSearch()" [class.expanded]="advancedSearchExpanded">
      <span class="toggle-text">
        <svg class="filter-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
          <path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.622V13.5a.5.5 0 0 1-.74.439L7 12.439V8.622l-4.872-4.788A.5.5 0 0 1 1.5 3.5v-2z"/>
        </svg>
        Advanced Filters
      </span>
      <svg class="chevron-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
      </svg>
    </button>
    <div #advancedSearch class="advanced-search" [class.expanded]="advancedSearchExpanded">
      <div class="search-row">
        <div class="search-group">
          <label for="quality">Quality:</label>
          <select id="quality" [(ngModel)]="selectedQuality" (change)="applyFilters()">
            <option value="all" selected>All</option>
            <option value="480p">480p</option>
            <option value="720p">720p</option>
            <option value="1080p">1080p</option>
            <option value="1080p.x265">1080p.x265</option>
            <option value="2160p">2160p</option>
            <option value="3D">3D</option>
          </select>
        </div>

        <div class="search-group">
          <label for="rating">Minimum Rating:</label>
          <select id="rating" [(ngModel)]="selectedRating" (change)="applyFilters()">
            <option value="0">All</option>
            <option value="9">9+</option>
            <option value="8">8+</option>
            <option value="7">7+</option>
            <option value="6">6+</option>
            <option value="5">5+</option>
            <option value="4">4+</option>
            <option value="3">3+</option>
            <option value="2">2+</option>
            <option value="1">1+</option>
          </select>
        </div>



        <div class="search-group genre-selector">
          <label for="genre">Genre:</label>
          <select id="genre" [(ngModel)]="selectedGenre" (change)="applyFilters()">
            <option value="all" selected>All Genres</option>
            <option value="action">Action</option>
            <option value="adventure">Adventure</option>
            <option value="animation">Animation</option>
            <option value="biography">Biography</option>
            <option value="comedy">Comedy</option>
            <option value="crime">Crime</option>
            <option value="documentary">Documentary</option>
            <option value="drama">Drama</option>
            <option value="family">Family</option>
            <option value="fantasy">Fantasy</option>
            <option value="film-noir">Film-Noir</option>
            <option value="horror">Horror</option>
            <option value="music">Music</option>
            <option value="musical">Musical</option>
            <option value="mystery">Mystery</option>
            <option value="romance">Romance</option>
            <option value="sci-fi">Sci-Fi</option>
            <option value="sport">Sport</option>
            <option value="thriller">Thriller</option>
            <option value="war">War</option>
            <option value="western">Western</option>
          </select>
        </div>
        
      </div>

      <div class="search-row">
        

        <div class="search-group search-input-group">
          <label for="search">Search:</label>
          <input 
            type="text" 
            id="search" 
            [(ngModel)]="searchKeyword" 
            (keyup.enter)="applyFilters()"
            placeholder="Search movies..."
            class="search-input"
          >
        </div>
      </div>

      <div class="filter-actions">
        <button class="apply-filter-button" (click)="applyFilters()">
          Apply Filter
        </button>
        <a class="clear-filters-link" (click)="clearAllFilters()">
          Clear All
        </a>
      </div>
    </div>

    <h1 class="main-heading">Magenet - Explore a World of HD Movies in One Place</h1>
    <h2 class="section-heading">Latest HD Movies & TV Shows</h2>
    
    <app-movie-list
      [qualityFilter]="selectedQuality"
      [genreFilter]="selectedGenre"
      [ratingFilter]="+selectedRating"
      [searchKeyWord]="searchKeyword"
      (movieSelected)="onMovieSelect($event)">
    </app-movie-list>
  </div>
</div>
